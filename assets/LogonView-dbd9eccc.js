import{c as u,s as a}from"./common-27ce4a49.js";import{_ as h,o as _,c as m,a as s,w as p,b as l,v as d}from"./index-c7c4fab4.js";const{VITE_API_ROOT:g}={VITE_API_ROOT:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"annavue",BASE_URL:"/vue3-training/",MODE:"production",DEV:!1,PROD:!0},v={data(){return{user:{username:"",password:""}}},mounted(){u.checkAdmin(this.gotoProducts,this.gotoLogin)},methods:{gotoProducts(){this.$router.push({name:"adminProducts"})},gotoLogin(){this.$router.push({name:"login"})},login(){const n=`${g}/admin/signin`;this.$http.post(n,this.user).then(e=>{const{token:i,expired:r,message:t}=e.data;document.cookie=`hexToken=${i};expires=${new Date(r)}; path=/`,a.toastSuccMsg(t),this.$router.push({name:"adminProducts"})}).catch(e=>{a.toastErrorMsg(e.message)})}}},f={class:"container-fluid bg-light",style:{position:"relative",height:"100vh"}},b=s("div",{class:"row"},[s("div",{class:"col-lg-6 bg-cover"}),s("div",{class:"col-lg-6 bg-mask"})],-1),x={class:"row justify-content-lg-end align-items-center",style:{height:"100vh"}},y={class:"col col-lg-6"},w={class:"d-flex justify-content-center align-item-center"},P={class:"card border-secondary",style:{width:"400px",height:"400px"}},V={class:"card-body"},E=s("h5",{class:"text-center border-bottom pb-3 border-secondary text-secondary"},"登入後台",-1),T={class:"d-flex flex-column",style:{height:"300px"}},k={class:"mb-3"},A=s("label",{for:"username",class:"form-label"},"帳號",-1),I={class:"mb-3"},O=s("label",{for:"sp",class:"form-label"},"密碼",-1),D=s("div",{class:"mt-auto"},[s("button",{type:"submit",class:"btn btn-secondary w-100"},"登入")],-1);function L(n,e,i,r,t,c){return _(),m("section",f,[b,s("div",x,[s("div",y,[s("div",w,[s("div",P,[s("div",V,[E,s("form",{class:"pt-1",onSubmit:e[2]||(e[2]=p((...o)=>c.login&&c.login(...o),["prevent"]))},[s("div",T,[s("div",k,[A,l(s("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>t.user.username=o),type:"email",class:"form-control",id:"username",placeholder:"請輸入帳號",required:""},null,512),[[d,t.user.username]])]),s("div",I,[O,l(s("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>t.user.password=o),type:"password",class:"form-control",id:"sp",placeholder:"請輸入密碼",required:""},null,512),[[d,t.user.password]])]),D])],32)])])])])])])}const B=h(v,[["render",L]]);export{B as default};
