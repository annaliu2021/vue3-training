import{P}from"./paginationComponent-0bfe6d7a.js";import{_ as f,r as d,o as i,c as l,a as t,F as T,f as b,b as p,w as $,n as v,t as _,d as y}from"./index-881a622c.js";const{VITE_API_ROOT:u,VITE_API_PATH:g}={VITE_API_ROOT:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"annavue",BASE_URL:"/vue3-training",MODE:"production",DEV:!1,PROD:!0},x={loader:"dots",canCancel:!0,color:"#36495e"},V={data(){return{text:"產品列表",products:[],pagination:{}}},mounted(){this.getProductsData()},methods:{getProductsData(s=1){let a=this.$loading.show(x);const o=`${u}/api/${g}/products?page=${s}`;this.$http.get(o).then(n=>{const{products:c,pagination:r}=n.data;this.products=c,this.pagination=r,a.hide()}).catch(n=>{alert(n.response.data.message),a.hide()})},addToCart(s,a=1){this.$http.post(`${u}/api/${g}/cart`,{data:{product_id:s,qty:a}}).then(o=>{alert(o.data.message)}).catch(o=>{alert(o.response.data.message)})}},components:{PaginationComponent:P}},k={class:"container my-3"},I={class:"row row-cols-lg-3 list-unstyled p-0"},w=["ked"],C=t("small",null,"商品內容",-1),E={class:"p-3 text-center"},A={class:"m-0"},D={class:"mt-1"},O={class:""},B=["onClick"],R=t("div",{class:"loading bounceball d-none fade"},[t("span"),t("span"),t("span")],-1);function S(s,a,o,n,c,r){const h=d("router-link"),m=d("pagination-component");return i(),l("div",k,[t("ul",I,[(i(!0),l(T,null,b(c.products,e=>(i(),l("li",{ked:e.id,class:"col d-flex flex-column mb-3"},[p(h,{class:"products-img border",role:"button",to:`/Product/${e.id}`,style:v({backgroundImage:"url("+e.imageUrl+")"})},{default:$(()=>[C]),_:2},1032,["to","style"]),t("div",E,[t("p",A,_(e.title),1),t("p",D,[t("small",O,"$ "+_(e.price)+"元/條",1)])]),t("button",{type:"button",class:"btn btn-sm btn-outline-primary mt-auto fs-6 w-100",onClick:N=>r.addToCart(e.id)},[y(" 加入購物車 "),R],8,B)],8,w))),256))]),p(m,{pages:c.pagination,onGoToPage:s.getData},null,8,["pages","onGoToPage"])])}const H=f(V,[["render",S]]);export{H as default};
