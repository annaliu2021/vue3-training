<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bootstrap Site</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>
</head>

<body>
    <h1>Hello-Bootstrap</h1>
    <div class="container">
        <table class="table align-middle">
            <thead>
                <tr>
                    <th scope="col"></th>
                    <th scope="col">產品圖片</th>
                    <th scope="col">產品名稱</th>
                    <th scope="col">產品價格</th>
                    <th scope="col">數量</th>
                    <th scope="col">小計</th>
                </tr>
            </thead>
            <tbody>
                <tr v-for="cartItem in cart.carts" :key="cartItem.id">
                    <td><button type="button" class="btn-close" aria-label="Close" @click="removeOneCartItem(cartItem.id)></button></td>
                    <td>
                        <div class=" cart-img" role="button"
                            :style="{backgroundImage:'url(' + cartItem.product.imageUrl + ')'}"></button>
                    </td>
                    <td>{{cartItem.product.title}}</td>
                    <td class="text-end">$ {{cartItem.product.price}}元</td>
                    <td>
                        <select class="form-select" :value="cartItem.qty"
                            @change="(e)=>changeQty(cartItem,e.target.value)">
                            <option v-for="i in 20" :value="i">{{i}}</option>
                        </select>
                    </td>
                    <td class="text-end">$ {{cartItem.total}}元</td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td colspan=" 5" class="text-end">總計金額：$ {{cart.final_total}} 元</td>
                </tr>
            </tfoot>
        </table>
        <div class="d-flex justify-content-center">
            <button type="button" class="btn btn-outline-danger p-2 me-3" :disabled="cart.carts?.length===0"
                @click="openOrderArea">
                確認結帳 </button>
            <button type="button" class="btn btn-outline-secondary p-2" @click="removeAllCartItem"
                :disabled="cart.carts?.length===0"> 清空購物車
            </button>
        </div>
    </div>
</body>

</html>